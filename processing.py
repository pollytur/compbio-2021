from occurence import dictionnary_writer

file_path = "dic.txt"
output_file_path = "filtered.txt"


def file_extractor(file_path):
    """
    returns a dictionnary which is the same than the one created in occurence.py
    """
    d = {}
    with open("dic.txt", "r") as f:
        for line in f.readlines():
            S = line.split()
            d[S[0]] = S[1]
    return d


threshold = 1


def filter_out(dic, threshold):
    """
    returns the dictionnary generated by file_extractor but filtered
    """
    new_dic = dict(filter(lambda occurence: int(occurence[1]) > threshold, dic.items()))
    return new_dic


if __name__ == "__main__":
    D = file_extractor(file_path)
    filtered_dic = filter_out(D, threshold)
    #as previously we write our filtered result in a file to eventually
    #process it later
    dictionnary_writer(filtered_dic, output_file_path)